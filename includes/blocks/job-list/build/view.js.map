{"version":3,"file":"view.js","mappings":"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","sources":["webpack://@remjobs/job-list/./src/view.js"],"sourcesContent":["/**\n * Job List View Script\n */\n\n// Use WordPress's global jQuery\njQuery(document).ready(function ($) {\n\t// Debug: Check if required variables are available\n\tconsole.log(\"Job List Script Loaded\");\n\tconsole.log(\"remjobsAjax available:\", typeof remjobsAjax !== \"undefined\");\n\t\n\t// Flag to track if we're ready to make AJAX requests\n\tlet ajaxReady = false;\n\t\n\t// Fallback: Create remjobsAjax if it doesn't exist\n\tif (typeof remjobsAjax === \"undefined\") {\n\t\tconsole.warn(\"remjobsAjax not found, creating fallback...\");\n\t\t\n\t\t// Create a basic fallback object\n\t\twindow.remjobsAjax = {\n\t\t\tajaxurl: \"/wp-admin/admin-ajax.php\", // Standard WordPress AJAX URL\n\t\t\tnonce: \"\" // We'll try to get this from the server\n\t\t};\n\t\t\n\t\t// Try to get the AJAX URL from WordPress if available\n\t\tif (typeof ajaxurl !== \"undefined\") {\n\t\t\twindow.remjobsAjax.ajaxurl = ajaxurl;\n\t\t} else if (typeof wpApiSettings !== \"undefined\" && wpApiSettings.root) {\n\t\t\t// Use REST API as fallback\n\t\t\twindow.remjobsAjax.ajaxurl = wpApiSettings.root + \"wp/v2/\";\n\t\t}\n\t\t\n\t\t// Try to get a nonce from the server\n\t\t$.ajax({\n\t\t\turl: window.remjobsAjax.ajaxurl,\n\t\t\ttype: \"POST\",\n\t\t\tdata: { action: \"get_filter_nonce\" },\n\t\t\tsuccess: function(response) {\n\t\t\t\tif (response.success && response.data.nonce) {\n\t\t\t\t\twindow.remjobsAjax.nonce = response.data.nonce;\n\t\t\t\t\twindow.remjobsAjax.ajaxurl = response.data.ajaxurl;\n\t\t\t\t\tajaxReady = true;\n\t\t\t\t\tconsole.log(\"Successfully retrieved nonce from server:\", window.remjobsAjax);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(\"Failed to get nonce from server:\", response);\n\t\t\t\t\t// Still set ajaxReady to true to allow requests (debug mode should handle this)\n\t\t\t\t\tajaxReady = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function(xhr, status, error) {\n\t\t\t\tconsole.warn(\"Error getting nonce from server:\", status, error);\n\t\t\t\t// Still set ajaxReady to true to allow requests (debug mode should handle this)\n\t\t\t\tajaxReady = true;\n\t\t\t}\n\t\t});\n\t\t\n\t\tconsole.log(\"Created fallback remjobsAjax:\", window.remjobsAjax);\n\t} else {\n\t\t// remjobsAjax is already available, we're ready\n\t\tajaxReady = true;\n\t}\n\t\n\tif (typeof remjobsAjax !== \"undefined\") {\n\t\tconsole.log(\"remjobsAjax:\", remjobsAjax);\n\t} else {\n\t\tconsole.error(\"remjobsAjax is still not available after fallback!\");\n\t\tconsole.log(\"Available global variables:\", Object.keys(window));\n\t}\n\n\t// Cache DOM elements\n\tconst $jobList = $(\"#jobs-list\");\n\tconst $searchInput = $(\"#job-search\");\n\tconst $categorySelect = $(\"#job-category\");\n\tconst $locationSelect = $(\"#job-location\");\n\tconst $skillsSelect = $(\"#job-skills\");\n\tconst $filterButton = $(\"#clear-filters\");\n\tconst $jobSearchForm = $(\".job-search-form\");\n\n\t// Debug: Check if elements are found\n\tconsole.log(\"DOM Elements Found:\");\n\tconsole.log(\"- Job List Container (#jobs-list):\", $jobList.length);\n\tconsole.log(\"- Search Input (#job-search):\", $searchInput.length);\n\tconsole.log(\"- Category Select (#job-category):\", $categorySelect.length);\n\tconsole.log(\"- Location Select (#job-location):\", $locationSelect.length);\n\tconsole.log(\"- Skills Select (#job-skills):\", $skillsSelect.length);\n\tconsole.log(\"- Clear Filters Link (#clear-filters):\", $filterButton.length);\n\n\t// Function to update jobs list\n\tfunction updateJobs() {\n\t\tconsole.log(\"=== updateJobs function called ===\");\n\t\t\n\t\t// Check if AJAX system is ready\n\t\tif (!ajaxReady) {\n\t\t\tconsole.log(\"AJAX system not ready yet, waiting...\");\n\t\t\t// Wait and retry\n\t\t\tsetTimeout(function() {\n\t\t\t\tupdateJobs();\n\t\t\t}, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Check if required variables are available\n\t\tif (typeof remjobsAjax === 'undefined') {\n\t\t\tconsole.error(\"remjobsAjax is not available in updateJobs function\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tconsole.log(\"remjobsAjax in updateJobs:\", remjobsAjax);\n\n\t\t// Get current filter values\n\t\tconst search = $searchInput.val() || \"\";\n\t\tconst category = $categorySelect.val() || \"\";\n\t\tconst location = $locationSelect.val() || \"\";\n\t\tconst skills = $skillsSelect.val() || \"\";\n\n\t\tconsole.log(\"Filter values:\");\n\t\tconsole.log(\"- Search:\", search);\n\t\tconsole.log(\"- Category:\", category);\n\t\tconsole.log(\"- Location:\", location);\n\t\tconsole.log(\"- Skills:\", skills);\n\n\t\t// Detect current layout from the active layout button instead of DOM classes\n\t\t// (since DOM gets replaced during updates)\n\t\tlet currentLayout = \"grid\"; // default\n\t\tconst $activeLayoutButton = $(\".layout-toggle button.active\");\n\t\tif ($activeLayoutButton.length) {\n\t\t\tconst buttonLayout = $activeLayoutButton.data(\"layout\");\n\t\t\tif (buttonLayout) {\n\t\t\t\tcurrentLayout = buttonLayout;\n\t\t\t}\n\t\t}\n\t\t\n\t\tconsole.log(\"Current layout detected from button:\", currentLayout);\n\n\t\t// Show loading state\n\t\t$jobList.html('<div class=\"loading\">Loading jobs...</div>');\n\n\t\t// AJAX data\n\t\tconst data = {\n\t\t\taction: \"filter_jobs\",\n\t\t\tnonce: remjobsAjax.nonce,\n\t\t\tsearch: search,\n\t\t\tcategory: category,\n\t\t\tlocation: location,\n\t\t\tskills: skills,\n\t\t\tlayout: currentLayout,\n\t\t};\n\t\t\n\t\tconsole.log(\"AJAX data being sent:\", data);\n\t\tconsole.log(\"AJAX URL:\", remjobsAjax.ajaxurl);\n\t\t\n\t\t// Check if we have a nonce\n\t\tif (!data.nonce || data.nonce === '') {\n\t\t\tconsole.warn(\"No nonce available, but proceeding (debug mode should handle this)\");\n\t\t}\n\n\t\t// Make AJAX request\n\t\t$.ajax({\n\t\t\turl: remjobsAjax.ajaxurl,\n\t\t\ttype: \"POST\",\n\t\t\tdata: data,\n\t\t\tbeforeSend: function() {\n\t\t\t\tconsole.log(\"AJAX request starting...\");\n\t\t\t},\n\t\t\tsuccess: function (response) {\n\t\t\t\tconsole.log(\"AJAX Success response:\", response);\n\t\t\t\t\n\t\t\t\tif (response.success) {\n\t\t\t\t\tconsole.log(\"Response data:\", response.data);\n\t\t\t\t\t$jobList.html(response.data.data);\n\t\t\t\t\tconsole.log(\"Jobs updated successfully. Found:\", response.data.found, \"posts\");\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"AJAX returned success=false:\", response);\n\t\t\t\t\t$jobList.html('<div class=\"error\">Error loading jobs: ' + (response.data.message || 'Unknown error') + '</div>');\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function (xhr, status, error) {\n\t\t\t\tconsole.error(\"AJAX Error:\");\n\t\t\t\tconsole.error(\"- Status:\", status);\n\t\t\t\tconsole.error(\"- Error:\", error);\n\t\t\t\tconsole.error(\"- Response:\", xhr.responseText);\n\t\t\t\tconsole.error(\"- Status Code:\", xhr.status);\n\t\t\t\t\n\t\t\t\t// If it's a nonce issue and we're in fallback mode, try to get a new nonce\n\t\t\t\tif (xhr.status === 400 && !remjobsAjax.nonce) {\n\t\t\t\t\tconsole.log(\"Trying to get a fresh nonce...\");\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\turl: remjobsAjax.ajaxurl,\n\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\tdata: { action: \"get_filter_nonce\" },\n\t\t\t\t\t\tsuccess: function(nonceResponse) {\n\t\t\t\t\t\t\tif (nonceResponse.success && nonceResponse.data.nonce) {\n\t\t\t\t\t\t\t\tremjobsAjax.nonce = nonceResponse.data.nonce;\n\t\t\t\t\t\t\t\tconsole.log(\"Got fresh nonce, retrying filter request...\");\n\t\t\t\t\t\t\t\t// Retry the original request\n\t\t\t\t\t\t\t\tsetTimeout(updateJobs, 100);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$jobList.html('<div class=\"error\">Error loading jobs. Please try again.</div>');\n\t\t\t},\n\t\t\tcomplete: function() {\n\t\t\t\tconsole.log(\"AJAX request completed\");\n\t\t\t}\n\t\t});\n\t}\n\n\t// Event listeners\n\tif ($filterButton.length) {\n\t\t$filterButton.on(\"click\", function (e) {\n\t\t\te.preventDefault();\n\t\t\tconsole.log(\"Clear Filters button clicked\");\n\t\t\t$searchInput.val(\"\").trigger(\"change\"); // Clear search input\n\t\t\t$categorySelect.val(\"\").trigger(\"change\"); // Clear category\n\t\t\t$locationSelect.val(\"\").trigger(\"change\"); // Clear location\n\t\t\t$skillsSelect.val(\"\").trigger(\"change\"); // Clear skills\n\t\t\tupdateJobs(); // Trigger update with new filters\n\t\t});\n\t}\n\n\t// Optional: Update on select change\n\t$searchInput.on(\"keyup\", debounce(updateJobs, 500));\n\t$categorySelect.on(\"change\", function () {\n\t\tconsole.log(\"Category changed to:\", $(this).val());\n\t\tupdateJobs();\n\t});\n\t$locationSelect.on(\"change\", function () {\n\t\tconsole.log(\"Location changed to:\", $(this).val());\n\t\tupdateJobs();\n\t});\n\t$skillsSelect.on(\"change\", function () {\n\t\tconsole.log(\"Skills changed to:\", $(this).val());\n\t\tupdateJobs();\n\t});\n\n\t// Debounce function for search input\n\tfunction debounce(func, wait) {\n\t\tlet timeout;\n\t\treturn function executedFunction(...args) {\n\t\t\tconst later = () => {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\tfunc(...args);\n\t\t\t};\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t};\n\t}\n\n\t// ============================================\n\t// LAYOUT TOGGLE FUNCTIONALITY\n\t// ============================================\n\t\n\t// Handle layout toggle if it exists\n\tconst $layoutButtons = $(\".layout-toggle button\");\n\tif ($layoutButtons.length) {\n\t\tconsole.log(\"Layout toggle buttons found:\", $layoutButtons.length);\n\t\t\n\t\t$layoutButtons.on(\"click\", function () {\n\t\t\tconst layout = $(this).data(\"layout\");\n\t\t\tconsole.log(\"Layout button clicked:\", layout);\n\t\t\t\n\t\t\t// Find the job listings container (the one with class job-listings-grid or job-listings-list)\n\t\t\tconst $jobListingsContainer = $jobList.find('[class*=\"job-listings-\"]');\n\t\t\t\n\t\t\tif ($jobListingsContainer.length) {\n\t\t\t\t// Remove existing layout classes and add the new one\n\t\t\t\t$jobListingsContainer.removeClass(\"job-listings-grid job-listings-list\");\n\t\t\t\t$jobListingsContainer.addClass(\"job-listings-\" + layout);\n\t\t\t\t\n\t\t\t\tconsole.log(\"Applied layout class: job-listings-\" + layout);\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Job listings container not found\");\n\t\t\t}\n\t\t\t\n\t\t\t// Update button states\n\t\t\t$layoutButtons.removeClass(\"is-primary active\").addClass(\"is-secondary\");\n\t\t\t$(this).removeClass(\"is-secondary\").addClass(\"is-primary active\");\n\t\t\t\n\t\t\tconsole.log(\"Layout switched to:\", layout);\n\t\t\t\n\t\t\t// Update the jobs list with the new layout\n\t\t\tupdateJobs();\n\t\t});\n\t} else {\n\t\tconsole.log(\"No layout toggle buttons found\");\n\t}\n\n\t// Setup save job functionality\n\tsetupSaveJobButtons();\n});\n\n/**\n * Setup the save job functionality\n */\nfunction setupSaveJobButtons() {\n\tconst saveButtons = document.querySelectorAll(\".save-job-button\");\n\n\tsaveButtons.forEach((button) => {\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst jobId = button.dataset.jobId;\n\n\t\t\tif (!jobId) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Toggle saved state visually\n\t\t\tbutton.classList.toggle(\"saved\");\n\n\t\t\t// TODO: Implement saving jobs to user preferences\n\t\t\t// This would typically involve an AJAX call to save the job\n\t\t\tconsole.log(\"Toggle saved state for job ID:\", jobId);\n\t\t});\n\t});\n}\n\n/**\n * Highlight premium jobs with crown icon\n */\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\t// Add premium job indicators\n\tconst premiumJobs = document.querySelectorAll(\n\t\t\".job-card.premium, .job-row.premium\",\n\t);\n\n\tpremiumJobs.forEach((job) => {\n\t\tconst indicator = document.createElement(\"div\");\n\t\tindicator.className = \"premium-indicator\";\n\t\tindicator.innerHTML = `\n\t\t\t<svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\n\t\t\t\t<path d=\"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z\"></path>\n\t\t\t</svg>\n\t\t`;\n\t\tjob.appendChild(indicator);\n\t});\n});\n\n/**\n * Save job functionality\n */\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tconst saveButtons = document.querySelectorAll(\".save-job-button\");\n\n\tsaveButtons.forEach((button) => {\n\t\tbutton.addEventListener(\"click\", function (e) {\n\t\t\te.preventDefault();\n\n\t\t\t// Toggle filled/unfilled state\n\t\t\tconst svg = button.querySelector(\"svg\");\n\n\t\t\tif (svg.getAttribute(\"fill\") === \"none\") {\n\t\t\t\tsvg.setAttribute(\"fill\", \"currentColor\");\n\t\t\t\tbutton.setAttribute(\"title\", \"Saved\");\n\n\t\t\t\t// You would add the job ID to saved jobs in user preferences\n\t\t\t\t// This is a simplified example\n\t\t\t} else {\n\t\t\t\tsvg.setAttribute(\"fill\", \"none\");\n\t\t\t\tbutton.setAttribute(\"title\", \"Save job\");\n\n\t\t\t\t// You would remove the job ID from saved jobs in user preferences\n\t\t\t}\n\t\t});\n\t});\n});\n"],"names":["jQuery","document","ready","$","console","log","remjobsAjax","ajaxReady","warn","window","ajaxurl","nonce","wpApiSettings","root","ajax","url","type","data","action","success","response","error","xhr","status","Object","keys","$jobList","$searchInput","$categorySelect","$locationSelect","$skillsSelect","$filterButton","$jobSearchForm","length","updateJobs","setTimeout","search","val","category","location","skills","currentLayout","$activeLayoutButton","buttonLayout","html","layout","beforeSend","found","message","responseText","nonceResponse","complete","on","e","preventDefault","trigger","debounce","func","wait","timeout","executedFunction","args","later","clearTimeout","$layoutButtons","$jobListingsContainer","find","removeClass","addClass","setupSaveJobButtons","saveButtons","querySelectorAll","forEach","button","addEventListener","jobId","dataset","classList","toggle","premiumJobs","job","indicator","createElement","className","innerHTML","appendChild","svg","querySelector","getAttribute","setAttribute"],"sourceRoot":""}