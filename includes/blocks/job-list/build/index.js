(()=>{"use strict";var e,o={497:(e,o,s)=>{const l=window.wp.blocks,t=JSON.parse('{"UU":"remjobs/job-list"}'),r=window.wp.i18n,i=window.wp.blockEditor,a=window.wp.components,n=window.wp.element,c=window.wp.serverSideRender;var h=s.n(c);const b=window.wp.apiFetch;var d=s.n(b);const j=window.ReactJSXRuntime;(0,l.registerBlockType)(t.UU,{icon:{src:(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,j.jsx)("path",{d:"M20 6H4V4h16v2zm0 2H4v2h16V8zm0 4H4v2h16v-2zm0 4H4v2h16v-2z"})})},edit:function({attributes:e,setAttributes:o}){const{blockTitle:s,backgroundColor:l,layout:t,jobsPerPage:c,postsPerPage:b,showFilters:g,showToggle:m,featuredOnly:p,showCategoryFilter:_,showLocationFilter:u,showSkillsFilter:x,showSearchFilter:y,filterByCategory:w,filterBySkills:v,filterByLocation:f,viewAllJobsPage:k}=e,C=(0,i.useBlockProps)({style:{backgroundColor:l}}),[S,F]=(0,n.useState)([]),[N,P]=(0,n.useState)([]),[B,T]=(0,n.useState)([]),[O,L]=(0,n.useState)([]),[A,J]=(0,n.useState)(!1),[E,R]=(0,n.useState)(!1),[z,V]=(0,n.useState)(!1),[D,G]=(0,n.useState)(!0),[H,U]=(0,n.useState)(!1),[$,I]=(0,n.useState)(!0),[M,W]=(0,n.useState)(!0);(0,n.useEffect)((()=>{(async()=>{R(!0);try{const e=await d()({path:"/wp/v2/pages?per_page=100"});L(e.map((e=>({value:e.id,label:e.title.rendered}))))}catch(e){console.error("Error fetching pages:",e)}finally{R(!1)}})()}),[]),(0,n.useEffect)((()=>{(async()=>{G(!0);try{const e=await d()({path:"/wp/v2/jobs?per_page=1"});V(e&&e.length>0)}catch(e){console.error("Error checking for job posts:",e),V(!1)}finally{G(!1)}})()}),[]),(0,n.useEffect)((()=>{(async()=>{J(!0);try{const e=await d()({path:"/wp/v2/job_category?per_page=100"});F(e.map((e=>({id:e.id,name:e.name,slug:e.slug}))));const o=await d()({path:"/wp/v2/job_skills?per_page=100"});P(o.map((e=>({id:e.id,name:e.name,slug:e.slug}))));const s=await d()({path:"/wp/v2/job_location?per_page=100"});T(s.map((e=>({id:e.id,name:e.name,slug:e.slug}))))}catch(e){console.error("Error fetching terms:",e)}finally{J(!1)}})()}),[]);const q=(0,j.jsxs)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",children:[(0,j.jsx)("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),(0,j.jsx)("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),(0,j.jsx)("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),(0,j.jsx)("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})]}),X=(0,j.jsxs)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",children:[(0,j.jsx)("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),(0,j.jsx)("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),(0,j.jsx)("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),(0,j.jsx)("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),(0,j.jsx)("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),(0,j.jsx)("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]});return(0,j.jsxs)("div",{...C,children:[(0,j.jsx)(i.InspectorControls,{children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(a.PanelBody,{title:(0,r.__)("General Settings","remote-jobs"),initialOpen:!0,children:[(0,j.jsx)(a.TextControl,{label:(0,r.__)("Block Title","remote-jobs"),help:(0,r.__)("Title displayed at the top of the job list","remote-jobs"),value:s,onChange:e=>o({blockTitle:e})}),(0,j.jsxs)("div",{className:"components-base-control",children:[(0,j.jsx)("label",{className:"components-base-control__label",children:(0,r.__)("Background Color","remote-jobs")}),(0,j.jsx)(a.ColorPicker,{color:l,onChange:e=>{let s;s="object"==typeof e&&e.hex?e.rgb&&e.rgb.a<1?`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`:e.hex:e,o({backgroundColor:s})},enableAlpha:!0,defaultValue:"#f7f9fc"}),(0,j.jsx)("p",{className:"components-base-control__help",children:(0,r.__)("Choose a background color for the job list block","remote-jobs")})]})]}),(0,j.jsxs)(a.PanelBody,{title:(0,r.__)("Layout Settings","remote-jobs"),initialOpen:!1,children:[(0,j.jsx)(a.SelectControl,{label:(0,r.__)("Display Style","remote-jobs"),value:t,options:[{label:(0,r.__)("Grid","remote-jobs"),value:"grid"},{label:(0,r.__)("List","remote-jobs"),value:"list"}],onChange:e=>o({layout:e})}),(0,j.jsx)(a.ToggleControl,{label:(0,r.__)("Show layout toggle buttons","remote-jobs"),help:m?(0,r.__)("Layout toggle buttons are visible","remote-jobs"):(0,r.__)("Layout toggle buttons are hidden","remote-jobs"),checked:m,onChange:()=>o({showToggle:!m})}),(0,j.jsx)(a.RangeControl,{label:(0,r.__)("Jobs per page","remote-jobs"),value:b||10,onChange:e=>o({postsPerPage:e}),min:1,max:50,help:(0,r.__)("Number of jobs to display per page","remote-jobs")}),(0,j.jsx)(a.SelectControl,{label:(0,r.__)("View All Jobs Page","remote-jobs"),value:k,options:[{label:(0,r.__)("Select a page...","remote-jobs"),value:0},...O],onChange:e=>o({viewAllJobsPage:parseInt(e)}),help:(0,r.__)("Select the page where all jobs will be displayed","remote-jobs")}),(0,j.jsx)(a.ToggleControl,{label:(0,r.__)("Show filters","remote-jobs"),checked:g,onChange:()=>o({showFilters:!g}),help:(0,r.__)("Display filter controls above job listings","remote-jobs")}),(0,j.jsx)(a.ToggleControl,{label:(0,r.__)("Featured jobs only","remote-jobs"),checked:p,onChange:()=>o({featuredOnly:!p}),help:(0,r.__)("Only display featured/premium job listings","remote-jobs")})]}),(0,j.jsxs)(a.PanelBody,{title:(0,r.__)("Filter Controls","remote-jobs"),initialOpen:!1,children:[(0,j.jsx)("p",{className:"components-base-control__help",children:(0,r.__)("Choose which filter controls to display","remote-jobs")}),(0,j.jsx)(a.ToggleControl,{label:(0,r.__)("Show search box","remote-jobs"),checked:y,onChange:()=>o({showSearchFilter:!y}),help:(0,r.__)("Allow users to search for jobs by keyword","remote-jobs")}),(0,j.jsx)(a.ToggleControl,{label:(0,r.__)("Show category filter","remote-jobs"),checked:_,onChange:()=>o({showCategoryFilter:!_}),help:(0,r.__)("Allow users to filter jobs by category","remote-jobs")}),(0,j.jsx)(a.ToggleControl,{label:(0,r.__)("Show location filter","remote-jobs"),checked:u,onChange:()=>o({showLocationFilter:!u}),help:(0,r.__)("Allow users to filter jobs by location","remote-jobs")}),(0,j.jsx)(a.ToggleControl,{label:(0,r.__)("Show skills filter","remote-jobs"),checked:x,onChange:()=>o({showSkillsFilter:!x}),help:(0,r.__)("Allow users to filter jobs by required skills","remote-jobs")})]}),(0,j.jsxs)(a.PanelBody,{title:(0,r.__)("Filter Settings","remote-jobs"),initialOpen:!1,children:[(0,j.jsx)("p",{className:"components-base-control__help",children:(0,r.__)("Select specific categories, skills, or locations to filter jobs","remote-jobs")}),A?(0,j.jsx)("p",{children:(0,r.__)("Loading taxonomy terms...","remote-jobs")}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a.FormTokenField,{label:(0,r.__)("Filter by Categories","remote-jobs"),value:w?w.map((e=>{const o=S.find((o=>o.slug===e));return o?o.name:e})):[],suggestions:S.map((e=>e.name)),onChange:e=>{const s=e.map((e=>{const o=S.find((o=>o.name===e));return o?o.slug:e}));o({filterByCategory:s})},help:(0,r.__)("Type to select job categories to display","remote-jobs")}),(0,j.jsx)(a.FormTokenField,{label:(0,r.__)("Filter by Skills","remote-jobs"),value:v?v.map((e=>{const o=N.find((o=>o.slug===e));return o?o.name:e})):[],suggestions:N.map((e=>e.name)),onChange:e=>{const s=e.map((e=>{const o=N.find((o=>o.name===e));return o?o.slug:e}));o({filterBySkills:s})},help:(0,r.__)("Type to select job skills to display","remote-jobs")}),(0,j.jsx)(a.FormTokenField,{label:(0,r.__)("Filter by Locations","remote-jobs"),value:f?f.map((e=>{const o=B.find((o=>o.slug===e));return o?o.name:e})):[],suggestions:B.map((e=>e.name)),onChange:e=>{const s=e.map((e=>{const o=B.find((o=>o.name===e));return o?o.slug:e}));o({filterByLocation:s})},help:(0,r.__)("Type to select job locations to display","remote-jobs")})]})]}),(0,j.jsxs)(a.PanelBody,{title:(0,r.__)("Debug Info","remote-jobs"),initialOpen:!1,children:[(0,j.jsx)(a.ToggleControl,{label:(0,r.__)("Show debug info","remote-jobs"),checked:H,onChange:()=>U(!H)}),H&&(0,j.jsxs)("div",{style:{fontSize:"12px",wordBreak:"break-word"},children:[(0,j.jsx)("h4",{children:"Current Attributes:"}),(0,j.jsx)("pre",{children:JSON.stringify(e,null,2)})]})]})]})}),$?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h(),{block:"remjobs/job-list",attributes:e,EmptyResponsePlaceholder:()=>(0,j.jsx)(a.Placeholder,{label:(0,r.__)("No Jobs Found","remote-jobs"),children:(0,j.jsx)("p",{children:(0,r.__)("There are no jobs that match your criteria.","remote-jobs")})}),LoadingResponsePlaceholder:()=>(0,j.jsx)(a.Placeholder,{label:(0,r.__)("Loading Jobs...","remote-jobs"),children:(0,j.jsx)(a.Spinner,{})}),onFetchStateChange:e=>{W("loading"===e)}}),(0,j.jsx)("div",{className:"editor-preview-toggle",children:(0,j.jsx)(a.Button,{variant:"secondary",onClick:()=>I(!$),children:(0,r.__)("Show editor preview","remote-jobs")})})]}):(0,j.jsxs)("div",{className:"job-listings-container-editor",children:[D?(0,j.jsx)(a.Placeholder,{label:(0,r.__)("Loading...","remote-jobs")}):z?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"job-listings-header",children:[(0,j.jsxs)("div",{className:"job-count",children:[(0,j.jsx)("h2",{className:"job-count-title",children:s}),(0,j.jsx)("p",{className:"job-count-stats",children:(0,r.__)("Jobs will be displayed here","remote-jobs")})]}),m&&(0,j.jsxs)("div",{className:"view-toggle",children:[(0,j.jsx)("a",{href:"#",className:"view-all-link",children:"View all jobs"}),(0,j.jsx)("div",{className:"layout-toggle",children:(0,j.jsxs)(a.ButtonGroup,{children:[(0,j.jsx)(a.Button,{isSmall:!0,isPrimary:"grid"===t,isSecondary:"grid"!==t,onClick:()=>o({layout:"grid"}),icon:q,"aria-label":(0,r.__)("Grid view","remote-jobs")}),(0,j.jsx)(a.Button,{isSmall:!0,isPrimary:"list"===t,isSecondary:"list"!==t,onClick:()=>o({layout:"list"}),icon:X,"aria-label":(0,r.__)("List view","remote-jobs")})]})})]})]}),g&&(0,j.jsx)("div",{className:"job-filters",children:(0,j.jsxs)("div",{className:"filter-row",children:[y&&(0,j.jsx)("input",{type:"text",placeholder:(0,r.__)("Search jobs...","remote-jobs"),className:"search-input"}),_&&S.length>0&&(0,j.jsxs)("select",{className:"category-select",children:[(0,j.jsx)("option",{value:"",children:(0,r.__)("All Categories","remote-jobs")}),S.map((e=>(0,j.jsx)("option",{value:e.slug,children:e.name},e.id)))]}),u&&B.length>0&&(0,j.jsxs)("select",{className:"location-select",children:[(0,j.jsx)("option",{value:"",children:(0,r.__)("All Locations","remote-jobs")}),B.map((e=>(0,j.jsx)("option",{value:e.slug,children:e.name},e.id)))]}),x&&N.length>0&&(0,j.jsxs)("select",{className:"skills-select",children:[(0,j.jsx)("option",{value:"",children:(0,r.__)("All Skills","remote-jobs")}),N.map((e=>(0,j.jsx)("option",{value:e.slug,children:e.name},e.id)))]}),(0,j.jsx)("button",{className:"filter-button",children:(0,r.__)("Filter","remote-jobs")})]})}),(0,j.jsx)(a.Notice,{status:"info",isDismissible:!1,children:(0,r.__)("This is a preview. Click 'Show actual jobs' below to see the real job listings from your site.","remote-jobs")})]}):(0,j.jsx)("div",{className:"no-jobs-found",children:(0,j.jsx)("p",{children:(0,r.__)("No jobs have been added yet.","remote-jobs")})}),(0,j.jsx)("div",{className:"editor-preview-toggle",children:(0,j.jsx)(a.Button,{variant:"secondary",onClick:()=>I(!$),children:(0,r.__)("Show actual jobs","remote-jobs")})})]})]})},save:function(){return null}})}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return o[e](r,r.exports,l),r.exports}l.m=o,e=[],l.O=(o,s,t,r)=>{if(!s){var i=1/0;for(h=0;h<e.length;h++){s=e[h][0],t=e[h][1],r=e[h][2];for(var a=!0,n=0;n<s.length;n++)(!1&r||i>=r)&&Object.keys(l.O).every((e=>l.O[e](s[n])))?s.splice(n--,1):(a=!1,r<i&&(i=r));if(a){e.splice(h--,1);var c=t();void 0!==c&&(o=c)}}return o}r=r||0;for(var h=e.length;h>0&&e[h-1][2]>r;h--)e[h]=e[h-1];e[h]=[s,t,r]},l.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return l.d(o,{a:o}),o},l.d=(e,o)=>{for(var s in o)l.o(o,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:o[s]})},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};l.O.j=o=>0===e[o];var o=(o,s)=>{var t,r,i=s[0],a=s[1],n=s[2],c=0;if(i.some((o=>0!==e[o]))){for(t in a)l.o(a,t)&&(l.m[t]=a[t]);if(n)var h=n(l)}for(o&&o(s);c<i.length;c++)r=i[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(h)},s=self.webpackChunk_remjobs_job_list=self.webpackChunk_remjobs_job_list||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))})();var t=l.O(void 0,[350],(()=>l(497)));t=l.O(t)})();