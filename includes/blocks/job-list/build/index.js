(()=>{"use strict";var e,o={497:(e,o,s)=>{const t=window.wp.blocks,l=JSON.parse('{"UU":"remjobs/job-list"}'),r=window.wp.i18n,i=window.wp.blockEditor,n=window.wp.components,a=window.wp.element,c=window.wp.serverSideRender;var h=s.n(c);const j=window.wp.apiFetch;var d=s.n(j);const b=window.ReactJSXRuntime;(0,t.registerBlockType)(l.UU,{icon:{src:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M20 6H4V4h16v2zm0 2H4v2h16V8zm0 4H4v2h16v-2zm0 4H4v2h16v-2z"})})},edit:function({attributes:e,setAttributes:o}){const{layout:s,jobsPerPage:t,postsPerPage:l,showFilters:c,showToggle:j,featuredOnly:m,showCategoryFilter:g,showLocationFilter:p,showSkillsFilter:u,showSearchFilter:_,filterByCategory:x,filterBySkills:y,filterByLocation:w}=e,v=(0,i.useBlockProps)(),[f,k]=(0,a.useState)([]),[S,C]=(0,a.useState)([]),[F,N]=(0,a.useState)([]),[B,O]=(0,a.useState)(!1),[P,T]=(0,a.useState)(!1),[L,A]=(0,a.useState)(!0),[E,J]=(0,a.useState)(!1),[R,z]=(0,a.useState)(!0),[D,H]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{A(!0);try{const e=await d()({path:"/wp/v2/jobs?per_page=1"});T(e&&e.length>0)}catch(e){console.error("Error checking for job posts:",e),T(!1)}finally{A(!1)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{O(!0);try{const e=await d()({path:"/wp/v2/job_category?per_page=100"});k(e.map((e=>({id:e.id,name:e.name,slug:e.slug}))));const o=await d()({path:"/wp/v2/job_skills?per_page=100"});C(o.map((e=>({id:e.id,name:e.name,slug:e.slug}))));const s=await d()({path:"/wp/v2/job_location?per_page=100"});N(s.map((e=>({id:e.id,name:e.name,slug:e.slug}))))}catch(e){console.error("Error fetching terms:",e)}finally{O(!1)}})()}),[]);const U=(0,b.jsxs)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",children:[(0,b.jsx)("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),(0,b.jsx)("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),(0,b.jsx)("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),(0,b.jsx)("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})]}),G=(0,b.jsxs)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",children:[(0,b.jsx)("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),(0,b.jsx)("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),(0,b.jsx)("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),(0,b.jsx)("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),(0,b.jsx)("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),(0,b.jsx)("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]});return(0,b.jsxs)("div",{...v,children:[(0,b.jsx)(i.InspectorControls,{children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(n.PanelBody,{title:(0,r.__)("Layout Settings","remote-jobs"),initialOpen:!0,children:[(0,b.jsx)(n.SelectControl,{label:(0,r.__)("Display Style","remote-jobs"),value:s,options:[{label:(0,r.__)("Grid","remote-jobs"),value:"grid"},{label:(0,r.__)("List","remote-jobs"),value:"list"}],onChange:e=>o({layout:e})}),(0,b.jsx)(n.ToggleControl,{label:(0,r.__)("Show layout toggle buttons","remote-jobs"),help:j?(0,r.__)("Layout toggle buttons are visible","remote-jobs"):(0,r.__)("Layout toggle buttons are hidden","remote-jobs"),checked:j,onChange:()=>o({showToggle:!j})}),(0,b.jsx)(n.RangeControl,{label:(0,r.__)("Jobs per page","remote-jobs"),value:l||10,onChange:e=>o({postsPerPage:e}),min:1,max:50,help:(0,r.__)("Number of jobs to display per page","remote-jobs")}),(0,b.jsx)(n.ToggleControl,{label:(0,r.__)("Show filters","remote-jobs"),checked:c,onChange:()=>o({showFilters:!c}),help:(0,r.__)("Display filter controls above job listings","remote-jobs")}),(0,b.jsx)(n.ToggleControl,{label:(0,r.__)("Featured jobs only","remote-jobs"),checked:m,onChange:()=>o({featuredOnly:!m}),help:(0,r.__)("Only display featured/premium job listings","remote-jobs")})]}),(0,b.jsxs)(n.PanelBody,{title:(0,r.__)("Filter Controls","remote-jobs"),initialOpen:!1,children:[(0,b.jsx)("p",{className:"components-base-control__help",children:(0,r.__)("Choose which filter controls to display","remote-jobs")}),(0,b.jsx)(n.ToggleControl,{label:(0,r.__)("Show search box","remote-jobs"),checked:_,onChange:()=>o({showSearchFilter:!_}),help:(0,r.__)("Allow users to search for jobs by keyword","remote-jobs")}),(0,b.jsx)(n.ToggleControl,{label:(0,r.__)("Show category filter","remote-jobs"),checked:g,onChange:()=>o({showCategoryFilter:!g}),help:(0,r.__)("Allow users to filter jobs by category","remote-jobs")}),(0,b.jsx)(n.ToggleControl,{label:(0,r.__)("Show location filter","remote-jobs"),checked:p,onChange:()=>o({showLocationFilter:!p}),help:(0,r.__)("Allow users to filter jobs by location","remote-jobs")}),(0,b.jsx)(n.ToggleControl,{label:(0,r.__)("Show skills filter","remote-jobs"),checked:u,onChange:()=>o({showSkillsFilter:!u}),help:(0,r.__)("Allow users to filter jobs by required skills","remote-jobs")})]}),(0,b.jsxs)(n.PanelBody,{title:(0,r.__)("Filter Settings","remote-jobs"),initialOpen:!1,children:[(0,b.jsx)("p",{className:"components-base-control__help",children:(0,r.__)("Select specific categories, skills, or locations to filter jobs","remote-jobs")}),B?(0,b.jsx)("p",{children:(0,r.__)("Loading taxonomy terms...","remote-jobs")}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.FormTokenField,{label:(0,r.__)("Filter by Categories","remote-jobs"),value:x?x.map((e=>{const o=f.find((o=>o.slug===e));return o?o.name:e})):[],suggestions:f.map((e=>e.name)),onChange:e=>{const s=e.map((e=>{const o=f.find((o=>o.name===e));return o?o.slug:e}));o({filterByCategory:s})},help:(0,r.__)("Type to select job categories to display","remote-jobs")}),(0,b.jsx)(n.FormTokenField,{label:(0,r.__)("Filter by Skills","remote-jobs"),value:y?y.map((e=>{const o=S.find((o=>o.slug===e));return o?o.name:e})):[],suggestions:S.map((e=>e.name)),onChange:e=>{const s=e.map((e=>{const o=S.find((o=>o.name===e));return o?o.slug:e}));o({filterBySkills:s})},help:(0,r.__)("Type to select job skills to display","remote-jobs")}),(0,b.jsx)(n.FormTokenField,{label:(0,r.__)("Filter by Locations","remote-jobs"),value:w?w.map((e=>{const o=F.find((o=>o.slug===e));return o?o.name:e})):[],suggestions:F.map((e=>e.name)),onChange:e=>{const s=e.map((e=>{const o=F.find((o=>o.name===e));return o?o.slug:e}));o({filterByLocation:s})},help:(0,r.__)("Type to select job locations to display","remote-jobs")})]})]}),(0,b.jsxs)(n.PanelBody,{title:(0,r.__)("Debug Info","remote-jobs"),initialOpen:!1,children:[(0,b.jsx)(n.ToggleControl,{label:(0,r.__)("Show debug info","remote-jobs"),checked:E,onChange:()=>J(!E)}),E&&(0,b.jsxs)("div",{style:{fontSize:"12px",wordBreak:"break-word"},children:[(0,b.jsx)("h4",{children:"Current Attributes:"}),(0,b.jsx)("pre",{children:JSON.stringify(e,null,2)})]})]})]})}),R?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h(),{block:"remjobs/job-list",attributes:e,EmptyResponsePlaceholder:()=>(0,b.jsx)(n.Placeholder,{label:(0,r.__)("No Jobs Found","remote-jobs"),children:(0,b.jsx)("p",{children:(0,r.__)("There are no jobs that match your criteria.","remote-jobs")})}),LoadingResponsePlaceholder:()=>(0,b.jsx)(n.Placeholder,{label:(0,r.__)("Loading Jobs...","remote-jobs"),children:(0,b.jsx)(n.Spinner,{})}),onFetchStateChange:e=>{H("loading"===e)}}),(0,b.jsx)("div",{className:"editor-preview-toggle",children:(0,b.jsx)(n.Button,{variant:"secondary",onClick:()=>z(!R),children:(0,r.__)("Show editor preview","remote-jobs")})})]}):(0,b.jsxs)("div",{className:"job-listings-container-editor",children:[L?(0,b.jsx)(n.Placeholder,{label:(0,r.__)("Loading...","remote-jobs")}):P?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"job-listings-header",children:[(0,b.jsxs)("div",{className:"job-count",children:[(0,b.jsx)("h2",{className:"job-count-title",children:"Latest jobs"}),(0,b.jsx)("p",{className:"job-count-stats",children:(0,r.__)("Jobs will be displayed here","remote-jobs")})]}),j&&(0,b.jsxs)("div",{className:"view-toggle",children:[(0,b.jsx)("a",{href:"#",className:"view-all-link",children:"View all jobs"}),(0,b.jsx)("div",{className:"layout-toggle",children:(0,b.jsxs)(n.ButtonGroup,{children:[(0,b.jsx)(n.Button,{isSmall:!0,isPrimary:"grid"===s,isSecondary:"grid"!==s,onClick:()=>o({layout:"grid"}),icon:U,"aria-label":(0,r.__)("Grid view","remote-jobs")}),(0,b.jsx)(n.Button,{isSmall:!0,isPrimary:"list"===s,isSecondary:"list"!==s,onClick:()=>o({layout:"list"}),icon:G,"aria-label":(0,r.__)("List view","remote-jobs")})]})})]})]}),c&&(0,b.jsx)("div",{className:"job-filters",children:(0,b.jsxs)("div",{className:"filter-row",children:[_&&(0,b.jsx)("input",{type:"text",placeholder:(0,r.__)("Search jobs...","remote-jobs"),className:"search-input"}),g&&f.length>0&&(0,b.jsxs)("select",{className:"category-select",children:[(0,b.jsx)("option",{value:"",children:(0,r.__)("All Categories","remote-jobs")}),f.map((e=>(0,b.jsx)("option",{value:e.slug,children:e.name},e.id)))]}),p&&F.length>0&&(0,b.jsxs)("select",{className:"location-select",children:[(0,b.jsx)("option",{value:"",children:(0,r.__)("All Locations","remote-jobs")}),F.map((e=>(0,b.jsx)("option",{value:e.slug,children:e.name},e.id)))]}),u&&S.length>0&&(0,b.jsxs)("select",{className:"skills-select",children:[(0,b.jsx)("option",{value:"",children:(0,r.__)("All Skills","remote-jobs")}),S.map((e=>(0,b.jsx)("option",{value:e.slug,children:e.name},e.id)))]}),(0,b.jsx)("button",{className:"filter-button",children:(0,r.__)("Filter","remote-jobs")})]})}),(0,b.jsx)(n.Notice,{status:"info",isDismissible:!1,children:(0,r.__)("This is a preview. Click 'Show actual jobs' below to see the real job listings from your site.","remote-jobs")})]}):(0,b.jsx)("div",{className:"no-jobs-found",children:(0,b.jsx)("p",{children:(0,r.__)("No jobs have been added yet.","remote-jobs")})}),(0,b.jsx)("div",{className:"editor-preview-toggle",children:(0,b.jsx)(n.Button,{variant:"secondary",onClick:()=>z(!R),children:(0,r.__)("Show actual jobs","remote-jobs")})})]})]})},save:function(){return null}})}},s={};function t(e){var l=s[e];if(void 0!==l)return l.exports;var r=s[e]={exports:{}};return o[e](r,r.exports,t),r.exports}t.m=o,e=[],t.O=(o,s,l,r)=>{if(!s){var i=1/0;for(h=0;h<e.length;h++){s=e[h][0],l=e[h][1],r=e[h][2];for(var n=!0,a=0;a<s.length;a++)(!1&r||i>=r)&&Object.keys(t.O).every((e=>t.O[e](s[a])))?s.splice(a--,1):(n=!1,r<i&&(i=r));if(n){e.splice(h--,1);var c=l();void 0!==c&&(o=c)}}return o}r=r||0;for(var h=e.length;h>0&&e[h-1][2]>r;h--)e[h]=e[h-1];e[h]=[s,l,r]},t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var s in o)t.o(o,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:o[s]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};t.O.j=o=>0===e[o];var o=(o,s)=>{var l,r,i=s[0],n=s[1],a=s[2],c=0;if(i.some((o=>0!==e[o]))){for(l in n)t.o(n,l)&&(t.m[l]=n[l]);if(a)var h=a(t)}for(o&&o(s);c<i.length;c++)r=i[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(h)},s=self.webpackChunk_remjobs_job_list=self.webpackChunk_remjobs_job_list||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))})();var l=t.O(void 0,[350],(()=>t(497)));l=t.O(l)})();